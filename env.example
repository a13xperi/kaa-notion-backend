# ============================================
# SAGE Platform - Environment Variables
# ============================================
# This is the authoritative source for all environment configuration.
# Copy this file to .env and fill in your actual values.
# Never commit .env to git!
#
# Variable Scope:
# - [BACKEND] = Used by server/ Express API
# - [FRONTEND] = Used by kaa-app/ React application (must start with REACT_APP_)
# - [SHARED] = Used by both

# ============================================
# Server Configuration [BACKEND]
# ============================================
NODE_ENV=development
PORT=3001

# Frontend URL for CORS and redirects [BACKEND]
FRONTEND_URL=http://localhost:3000

# For production, set:
# NODE_ENV=production
# PORT=3001
# FRONTEND_URL=https://your-domain.com

# ============================================
# Frontend Configuration [FRONTEND]
# ============================================
# Note: React requires env vars to start with REACT_APP_

# API base URL for frontend requests
REACT_APP_API_URL=http://localhost:3001

# For production:
# REACT_APP_API_URL=https://api.your-domain.com

# ============================================
# Database - Supabase [BACKEND]
# ============================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key_here
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key_here

# Get these from: https://app.supabase.com/project/_/settings/api

# ============================================
# Notion API [BACKEND]
# ============================================
NOTION_API_KEY=ntn_your_integration_token_here
NOTION_PARENT_PAGE_ID=your_parent_page_id_for_databases

# Database IDs (optional - will auto-create if not set)
CLIENT_CREDENTIALS_DB_ID=
CLIENT_DOCUMENTS_DB_ID=
ACTIVITY_LOG_DB_ID=
CLIENTS_DB_ID=

# Create integration at: https://www.notion.so/my-integrations

# ============================================
# Stripe Payments [BACKEND]
# ============================================
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_PUBLISHABLE_KEY=pk_test_your_stripe_publishable_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_signing_secret_here

# Get keys from: https://dashboard.stripe.com/apikeys
# Webhook secret from: https://dashboard.stripe.com/webhooks

# ============================================
# Email Configuration [BACKEND]
# ============================================
# Option 1: Resend (Recommended for production)
RESEND_API_KEY=re_your_resend_api_key_here

# Option 2: Postmark
POSTMARK_API_KEY=your_postmark_api_key_here

# Option 3: Gmail (Legacy - for development only)
EMAIL_SERVICE=gmail
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-specific-password

# Team notification email
TEAM_EMAIL=team@example.com

# ============================================
# OpenAI API [BACKEND]
# ============================================
OPENAI_API_KEY=sk-your_openai_api_key_here

# Get your API key from: https://platform.openai.com/api-keys
# Required for AI-powered chat features

# ============================================
# Authentication [BACKEND]
# ============================================
JWT_SECRET=your-secure-jwt-secret-change-in-production

# Generate a secure secret:
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"

# ============================================
# Figma Integration (Optional/Legacy) [BACKEND]
# ============================================
FIGMA_ACCESS_TOKEN=your_figma_access_token_here
FIGMA_WEBHOOK_PASSCODE=your_webhook_passcode_here

# Get token from Figma account settings > Personal access tokens

# ============================================
# Setup Instructions
# ============================================
# 1. Copy this file: cp env.example .env
# 2. Fill in all required values above
# 3. Required services:
#    - Supabase: https://app.supabase.com (database)
#    - Notion: https://www.notion.so/my-integrations (workspace sync)
# 4. Optional services:
#    - Stripe: https://dashboard.stripe.com (payments)
#    - Resend/Postmark: (email delivery)
#    - OpenAI: https://platform.openai.com (AI features)
# 5. Never commit .env to git (it's in .gitignore)
#
# For frontend development, also create kaa-app/.env with:
#   REACT_APP_API_URL=http://localhost:3001
